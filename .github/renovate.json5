 {
         "extends": [
           ":enableRenovate",
           "config:base",
           ":disableRateLimiting",
           ":dependencyDashboard",
           ":semanticCommits",
           ":separatePatchReleases",
           "docker:enableMajor",
           ":enablePreCommit",
           "github>kitos9112/k8s-home//.github/renovate/autoMerge.json",
           "github>kitos9112/k8s-home//.github/renovate/labels.json",
           "github>kitos9112/k8s-home//.github/renovate/groups.json5",
           "github>kitos9112/k8s-home//.github/renovate/semanticCommits"
         ],
         "platform": "github",
         "username": "henry-pa-bot[bot]",
         "repositories": ["kitos9112/k8s-home"],
         "onboarding": false,
         "requireConfig": "optional",
         "gitAuthor": "henry-pa-bot <***+henry-bot[bot]@users.noreply.github.com>",
         "assignees": ["@kitos9112"],
         "timezone": "Europe/London",
         "dependencyDashboardTitle": "Renovate Dashboard ðŸ¤–",
         "suppressNotifications": ["prIgnoreNotification"],
         "rebaseWhen": "conflicted",
         "commitBodyTable": true,
         "helm-values": {"fileMatch": ["cluster/.+\\.ya?ml$"]},
         "flux": {"fileMatch": ["cluster/.+\\.ya?ml$"]},
         "kubernetes": {"fileMatch": ["cluster/.+\\.yaml$"]},
         "regexManagers": [
           {
             "description": "Process various dependencies",
             "fileMatch": [
               "cluster/.+\\.ya?ml$",
               "ansible/.+\\.ya?ml$",
               "hack/.+\\.sh$"
             ],
             "matchStrings": [
               "datasource=(?<datasource>.*?)\n *url: https://github\\.com/(?<depName>.*?)\\.git\n *ref:\n *tag: (?<currentValue>.*)\n",
               "datasource=(?<datasource>.*?) depName=(?<depName>.*?)\n.*?_version: \"(?<currentValue>.*)\"\n",
               "datasource=(?<datasource>.*?) depName=(?<depName>.*?)\n.*?_VERSION=\"(?<currentValue>.*)\"\n"
             ],
             "datasourceTemplate": "{{#if datasource}}{{{datasource}}}{{else}}github-releases{{/if}}",
             "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}"
           },
            {
              "description": "Process CRD dependencies",
              "fileMatch": ["cluster/.+\\.ya?ml$"],
              "matchStrings": [
                // GitRepository where 'Git release/tag' matches 'Helm' version
                "registryUrl=(?<registryUrl>\\S+) chart=(?<depName>\\S+)\n.*?(?<currentValue>[^-\\s]*)\n",
                // GitRepository where 'Git ref/tag' matches 'Helm' version
                "# renovate: registryUrl=(?<registryUrl>\\S+)\\s+chart=(?<depName>\\S+)$\\s+tag:\\s*v?(?<currentValue>[^-\\s]*)$",
                // Kustomization where 'GitHub release artifact URL' matches 'Docker image' version
                "datasource=(?<datasource>\\S+) image=(?<depName>\\S+)\n.*?-\\s(.*?)\/(?<currentValue>[^/]+)\/[^/]+\n"
              ],
              "datasourceTemplate": "{{#if datasource}}{{{datasource}}}{{else}}helm{{/if}}"
            },

           {
             "description": "Process Kustomization CRD dependencies - Image and Github Release are the same version",
             "fileMatch": ["cluster/crds/.+\\.ya?ml$"],
             "matchStrings": [
               "datasource=(?<datasource>\\S+) image=(?<depName>\\S+)\n.*?-\\s(.*?)/(?<currentValue>[^/]+)/[^/]+\n"
             ],
             "datasourceTemplate": "docker"
           },
           {
             "description": "Process standalone ASDF tool versions",
             "fileMatch": ["^.tool-versions$"],
             "matchStrings": [
                "# renovate: datasource=(?<datasource>.+?) packageName=(?<packageName>.+?)( extractVersion=(?<extractVersion>.+?))?( registryUrl=(?<registryUrl>.+?))?\\s+(?<depName>.+?) (?<currentValue>.+)"
             ],
            "extractVersionTemplate": "{{#if extractVersion}}{{extractVersion}}{{else}}^v?(?<version>.+)${{/if}}"
           }
         ],
         "packageRules": [
           {"matchDatasources": ["helm"], "ignoreDeprecated": true},
           {"matchDatasources": ["docker"], "commitMessageExtra": "to {{newVersion}}"},
           {
             "matchDatasources": ["docker"],
             "versioning": "regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)-(?<compatibility>.*)$",
             "matchPackageNames": ["blakeblackshear/frigate"]
           },
           {
             "matchDatasources": ["docker"],
             "versioning": "regex:^RELEASE\\.(?<major>\\d+)-(?<minor>\\d+)-(?<patch>\\d+)T.*Z(-(?<compatibility>.*))?$",
             "matchPackageNames": ["quay.io/minio/minio"]
           },
           {
             "matchDatasources": ["docker", "github-releases"],
             "versioning": "loose",
             "matchPackageNames": [
               "ghcr.io/k8s-at-home/plex",
               "ghcr.io/k8s-at-home/qbittorrent",
               "Hypfer/Valetudo"
             ]
           },
           {
             "matchDatasources": ["github-releases", "docker"],
             "matchPackagePatterns": ["external-snapshotter", "snapshot-controller"],
             "groupName": "external-snapshotter-suite",
             "additionalBranchPrefix": "",
             "separateMinorPatch": true
           },
           {
             "matchDatasources": ["github-tags", "docker"],
             "matchPackagePatterns": ["rancher/system-upgrade-controller"],
             "groupName": "system-upgrade-controller-suite",
             "additionalBranchPrefix": "",
             "separateMinorPatch": true
           },
           {
             "groupName": "vector-suite",
             "matchDatasources": ["docker", "github-releases", "helm"],
             "matchPackagePatterns": ["vector"],
             "additionalBranchPrefix": "",
             "separateMinorPatch": true
           }
         ]
       }